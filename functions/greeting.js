const { Markup } = require('telegraf');

//! –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
async function sendMessageWithDelay(ctx, text, delay = 0, extra = {}) {
    if (delay > 0) {
        await new Promise(resolve => setTimeout(resolve, delay));
    }
    await ctx.reply(text, extra);
}

const greetingHandler = (async (ctx) => {
    // try {
    //     await ctx.replyWithPhoto('https://vk.com/photo-226855768_457239045');
    // } catch (error) {
    //     console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ:', error);
    //     await ctx.reply('–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ, –Ω–æ —ç—Ç–æ –Ω–µ –ø–æ–º–µ—à–∞–µ—Ç –Ω–∞–º –Ω–∞—á–∞—Ç—å! üòä');
    // }
    await ctx.reply(
        '–°–∞–ª–∞–º –∞–ª–µ–π–∫—É–º, –¥–æ—Ä–æ–≥–æ–π –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫!üëã\n\n' +
        '–Ø ‚Äî –¢–∏–º—É—Ä (–æ—Ç —Ç—é—Ä–∫. "–∂–µ–ª–µ–∑–æ"), –≤–∞—à –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –≥–∏–¥.ü§ñ\n' +
        '–ü–æ–º–æ–≥—É –≤–∞–º –≤—ã–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π —Ç—É—Ä, –æ—Ç–≤–µ—á—É –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ñ–æ—Ä–º–ª—é –∑–∞—è–≤–∫—É.\n\n' +
        '–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?',
        Markup.keyboard([
            ['üìö –ö–∞—Ç–∞–ª–æ–≥ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ'],
            ['üóì –î–∞—Ç—ã –∏ —Ü–µ–Ω—ã'],
            ['üí¨ –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã']
        ]).resize()
    );
});

const catalogHandler = (ctx) => {
    ctx.reply('–û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç—É—Ä–æ–≤. –£ –Ω–∞—Å –µ—Å—Ç—å:\n\n' +
         'üåü –≠–∫—Å–∫—É—Ä—Å–∏–∏ –Ω–∞ 1 –¥–µ–Ω—å ‚Äî –æ—Ç–ª–∏—á–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∞—Ä–∏—Ç—å —Å–µ–±–µ —è—Ä–∫–∏–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –∏ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —Ä–µ—Å–ø—É–±–ª–∏–∫–æ–π –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å.\n' +
         '‚ú® –ú–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω—ã–µ —Ç—É—Ä—ã ‚Äî –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –¥—É—à–æ–π, –Ω–∞—Å–ª–∞–¥–∏—Ç—å—Å—è –ø—Ä–∏—Ä–æ–¥–æ–π –∏ –æ—Ç–∫—Ä—ã—Ç—å –¥–ª—è —Å–µ–±—è –≤–µ—Å—å –∫–æ–ª–æ—Ä–∏—Ç —Ä–µ–≥–∏–æ–Ω–∞.', Markup.keyboard([
            ['üåü –≠–∫—Å–∫—É—Ä—Å–∏–∏ –Ω–∞ 1 –¥–µ–Ω—å'],
            ['‚ú® –ú–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω—ã–µ —Ç—É—Ä—ã'],
            ['üîô –ù–∞–∑–∞–¥']
    ]).resize());
};

const datesPriceHandler = (ctx) => {
    ctx.reply('–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã –ø–æ–µ–∑–¥–æ–∫.\n\n' +
         '–ï—Å–ª–∏ —Å—Å—ã–ª–∫–∏ –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ –Ω–µ—Ç, –Ω–∞–ø–∏—à–∏—Ç–µ –∂–µ–ª–∞–µ–º—É—é –¥–∞—Ç—É —Ç—É—Ä–∞ –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏.\n\n' +
         '–ï—Å–ª–∏ –≤–∞—à–∞ –≥—Ä—É–ø–ø–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 4 —á–µ–ª–æ–≤–µ–∫ –∏–ª–∏ –±–æ–ª—å—à–µ, –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –ª—é–±—É—é —É–¥–æ–±–Ω—É—é –¥–∞—Ç—É —Ç—É—Ä–∞ –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–µ–π –∫–æ–º–ø–∞–Ω–∏–µ–π. –ñ–¥—ë–º –≤–∞—Å –≤ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏!', Markup.keyboard([
            ['üåü –≠–∫—Å–∫—É—Ä—Å–∏–∏ –Ω–∞ 1 –¥–µ–Ω—å'],
            ['‚ú® –ú–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω—ã–µ —Ç—É—Ä—ã'],
            ['üîô –ù–∞–∑–∞–¥']
    ]).resize());
};

const faqHandler = async (ctx) => { // –î–æ–±–∞–≤–ª—è–µ–º async
    try {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        await ctx.replyWithPhoto('https://i.imgur.com/rNUOwRG.jpg');
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ:', error);
        await ctx.reply('–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ, –Ω–æ —ç—Ç–æ –Ω–µ –ø–æ–º–µ—à–∞–µ—Ç –Ω–∞–º –Ω–∞—á–∞—Ç—å! üòä');
    }

    // –ò—Å–ø–æ–ª—å–∑—É–µ–º Markdown –¥–ª—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏
    await ctx.replyWithMarkdown(
        '‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)üí¨\n\n' +
        '–î–ª—è –≤–∞—à–µ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞ –º—ã —Å–æ–±—Ä–∞–ª–∏ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –≤ –æ–¥–Ω–æ–π —Å—Ç–∞—Ç—å–µ:\n' +
        '[–ß–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç—å—é](https://telegra.ph/CHastye-voprosy-FAQ-03-03).',
        Markup.keyboard([
            ['üìö –ö–∞—Ç–∞–ª–æ–≥ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ'],
            ['üîô –ù–∞–∑–∞–¥']
        ]).resize()
    );
};
// //! –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –º–µ–Ω—é
// async function greetingHandler(bot) {
//     bot.start(async (ctx) => {
//     await sendMessageWithDelay(ctx, '–°–∞–ª–∞–º –∞–ª–µ–π–∫—É–º, –¥–æ—Ä–æ–≥–æ–π –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫!üëã\n\n–Ø ‚Äî –¢–∏–º—É—Ä (–æ—Ç —Ç—é—Ä–∫. \'–∂–µ–ª–µ–∑–æ\'), –≤–∞—à –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –≥–∏–¥.ü§ñ\n' + 
//         '–ü–æ–º–æ–≥—É –≤–∞–º –≤—ã–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π —Ç—É—Ä, –æ—Ç–≤–µ—á—É –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ñ–æ—Ä–º–ª—é –∑–∞—è–≤–∫—É.\n\n–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?', 
//         0,
//         Markup.keyboard([
//             ['üìö –ö–∞—Ç–∞–ª–æ–≥ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ'],
//             ['üìÖ –î–∞—Ç—ã –∏ —Ü–µ–Ω—ã'],
//             ['üí¨ –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã']
//         ]).resize()
//     );
// });


// //? async function greetingHandler(ctx) {
//     try {
//         await ctx.reply('–°–∞–ª–∞–º, –≤–∞—Ü–æ–∫! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! üëã\n–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é:', mainMenu);
//     } catch (error) {
//         console.error('–û—à–∏–±–∫–∞ –≤ greetingHandler:', error);
//         await ctx.reply('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–æ–º–∞–Ω–¥—ã. –ü–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ.');
//     }
// }

// // //! –ö–∞—Ç–∞–ª–æ–≥ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
// bot.hears('üìö –ö–∞—Ç–∞–ª–æ–≥ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ', async (ctx) => {
//     await sendMessageWithDelay(ctx, '–û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç—É—Ä–æ–≤. –£ –Ω–∞—Å –µ—Å—Ç—å:\n\n' +
//         'üåü –≠–∫—Å–∫—É—Ä—Å–∏–∏ –Ω–∞ 1 –¥–µ–Ω—å ‚Äî –æ—Ç–ª–∏—á–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∞—Ä–∏—Ç—å —Å–µ–±–µ —è—Ä–∫–∏–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –∏ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —Ä–µ—Å–ø—É–±–ª–∏–∫–æ–π –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å.\n' +
//         '‚ú® –ú–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω—ã–µ —Ç—É—Ä—ã ‚Äî –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –¥—É—à–æ–π, –Ω–∞—Å–ª–∞–¥–∏—Ç—å—Å—è –ø—Ä–∏—Ä–æ–¥–æ–π –∏ –æ—Ç–∫—Ä—ã—Ç—å –¥–ª—è —Å–µ–±—è –≤–µ—Å—å –∫–æ–ª–æ—Ä–∏—Ç —Ä–µ–≥–∏–æ–Ω–∞.', 0,
//         Markup.keyboard([
//             ['üåü –≠–∫—Å–∫—É—Ä—Å–∏–∏ –Ω–∞ 1 –¥–µ–Ω—å'],
//             ['‚ú® –ú–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω—ã–µ —Ç—É—Ä—ã'],
//             ['üîô –ù–∞–∑–∞–¥']
//         ]).resize()
//     );
// });

// //! –î–∞—Ç—ã –∏ —Ü–µ–Ω—ã
// bot.hears('üìÖ –î–∞—Ç—ã –∏ —Ü–µ–Ω—ã', async (ctx) => {
//     await sendMessageWithDelay(ctx, '–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã –ø–æ–µ–∑–¥–æ–∫.\n\n' +
//         '–ï—Å–ª–∏ —Å—Å—ã–ª–∫–∏ –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ –Ω–µ—Ç, –Ω–∞–ø–∏—à–∏—Ç–µ –∂–µ–ª–∞–µ–º—É—é –¥–∞—Ç—É —Ç—É—Ä–∞ –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏.\n\n' +
//         '–ï—Å–ª–∏ –≤–∞—à–∞ –≥—Ä—É–ø–ø–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 4 —á–µ–ª–æ–≤–µ–∫ –∏–ª–∏ –±–æ–ª—å—à–µ, –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –ª—é–±—É—é —É–¥–æ–±–Ω—É—é –¥–∞—Ç—É —Ç—É—Ä–∞ –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–µ–π –∫–æ–º–ø–∞–Ω–∏–µ–π. –ñ–¥—ë–º –≤–∞—Å –≤ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏!', 0);
// });

// //! –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã
// bot.hears('üí¨ –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã', async (ctx) => {
//     await sendMessageWithDelay(ctx, '‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã:\n\n' +
//         '1Ô∏è‚É£ –ú–æ–∂–Ω–æ –ª–∏ –±—Ä–∞—Ç—å –¥–µ—Ç–µ–π?\n' +
//         '‚úî –î–∞, –¥–µ—Ç–∏ –¥–æ 3 –ª–µ—Ç –µ–¥—É—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –Ω–æ –Ω–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–∞–∫–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏—Ö–æ–¥–∏—Ç—å—Å—è 1 –≤–∑—Ä–æ—Å–ª—ã–π.\n\n' +
//         '2Ô∏è‚É£ –í—Ö–æ–¥–∏—Ç –ª–∏ –ø–∏—Ç–∞–Ω–∏–µ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å?\n' +
//         '‚úî –í –º–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω—ã—Ö —Ç—É—Ä–∞—Ö –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ –ø–∏—Ç–∞–Ω–∏–µ. –ù–∞ –æ–¥–Ω–æ–¥–Ω–µ–≤–Ω—ã—Ö —ç–∫—Å–∫—É—Ä—Å–∏—è—Ö –ø–∏—Ç–∞–Ω–∏–µ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.', 0);
// });


module.exports = { greetingHandler, catalogHandler, datesPriceHandler, faqHandler };